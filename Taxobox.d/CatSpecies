local p = {}

local function count(categories)
	local count = 0
	for i=1, #categories do
		if mw.title.new('Категория:Видове ' .. categories[i]).exists then
			count = count + mw.site.stats.pagesInCategory('Видове ' .. categories[i], 'pages')
		end
	end
	
	return count
end

function p.plants()
	local plants = { 'спорови растения', 'голосеменни растения', 'едносемеделни растения', 'двусемеделни растения', 'карамфилоцветни', 'иглолистни растения', 'розиди', 'астериди', 'магнолииди', 'мъхове', 'водорасли', 'растения' }
	
	return count(plants)
end

function p.animals()
	local animals = { 'бозайници', 'влечуги', 'иглокожи', 'земноводни', 'лъчеперки', 'мекотели', 'хрущялни риби', 'червеи', 'мешести', 'членестоноги', 'птици', 'животни' }
	
	return count(animals)
end

function p.all(frame)
	local all = { 'организми', 'гъби', 'вируси', 'бактерии', 'протисти', 'първаци', 'археи', 'хромисти' }

	return p.plants() + p.animals() + count(all)
end

return p
